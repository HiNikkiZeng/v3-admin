(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["permission-directive"],{"0aa9":function(e,t,c){"use strict";var o=c("7a23"),r={style:{"margin-bottom":"15px"}};function n(e,t,c,n,i,a){var s=Object(o["resolveComponent"])("el-radio-button"),d=Object(o["resolveComponent"])("el-radio-group");return Object(o["openBlock"])(),Object(o["createBlock"])("div",null,[Object(o["createVNode"])("div",r,Object(o["toDisplayString"])(e.t("permission.roles"))+"： "+Object(o["toDisplayString"])(e.roles),1),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.t("permission.switchRoles"))+"： ",1),Object(o["createVNode"])(d,{modelValue:e.currentRole,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.currentRole=t})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{label:"editor"}),Object(o["createVNode"])(s,{label:"admin"})]})),_:1},8,["modelValue"])])}var i=c("0613"),a=c("d167"),s=c("d899"),d=Object(o["defineComponent"])({setup:function(){var e=Object(s["useI18n"])(),t=e.t,c=Object(i["b"])(),r=Object(o["computed"])((function(){return c.state.user.roles})),n=Object(o["ref"])(r.value[0]);return Object(o["watch"])(n,(function(e){c.dispatch(a["a"].ACTION_CHANGE_ROLES,e)})),{t:t,roles:r,currentRole:n}}});d.render=n;t["a"]=d},"38a5":function(e,t,c){"use strict";c("8989")},8989:function(e,t,c){},a99f:function(e,t,c){"use strict";c.r(t);var o=c("7a23"),r=Object(o["withScopeId"])("data-v-557b36ad");Object(o["pushScopeId"])("data-v-557b36ad");var n={class:"app-container"},i={class:"permission-alert"},a=Object(o["createTextVNode"])(" Only "),s=Object(o["createTextVNode"])("admin"),d=Object(o["createTextVNode"])(" can see this "),l=Object(o["createTextVNode"])(" v-permission=\"['admin']\" "),b={class:"permission-alert"},u=Object(o["createTextVNode"])(" Only "),O=Object(o["createTextVNode"])("editor"),j=Object(o["createTextVNode"])(" can see this "),p=Object(o["createTextVNode"])(" v-permission=\"['editor']\" "),m={class:"permission-alert"},f=Object(o["createTextVNode"])(" Both "),V=Object(o["createTextVNode"])("admin"),N=Object(o["createTextVNode"])(" and "),v=Object(o["createTextVNode"])("editor"),h=Object(o["createTextVNode"])(" can see this "),k=Object(o["createTextVNode"])(" v-permission=\"['admin','editor']\" "),y=Object(o["createTextVNode"])(" Admin can see this "),x=Object(o["createTextVNode"])(" v-if=\"checkPermission(['admin'])\" "),C=Object(o["createTextVNode"])(" Editor can see this "),T=Object(o["createTextVNode"])(" v-if=\"checkPermission(['editor'])\" "),w=Object(o["createTextVNode"])(" Both admin or editor can see this "),_=Object(o["createTextVNode"])(" v-if=\"checkPermission(['admin','editor'])\" ");Object(o["popScopeId"])();var g=r((function(e,t,c,g,B,D){var R=Object(o["resolveComponent"])("SwitchRoles"),S=Object(o["resolveComponent"])("el-tag"),P=Object(o["resolveComponent"])("el-tab-pane"),I=Object(o["resolveComponent"])("el-tabs"),A=Object(o["resolveDirective"])("permission");return Object(o["openBlock"])(),Object(o["createBlock"])("div",n,[Object(o["createVNode"])(R,{onChange:e.handleRolesChange},null,8,["onChange"]),(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:e.key,style:{"margin-top":"30px"}},[Object(o["createVNode"])("div",null,[Object(o["withDirectives"])(Object(o["createVNode"])("span",i,[a,Object(o["createVNode"])(S,{class:"permission-tag",size:"small"},{default:r((function(){return[s]})),_:1}),d],512),[[A,["admin"]]]),Object(o["withDirectives"])(Object(o["createVNode"])(S,{class:"permission-sourceCode",type:"info"},{default:r((function(){return[l]})),_:1},512),[[A,["admin"]]])]),Object(o["createVNode"])("div",null,[Object(o["withDirectives"])(Object(o["createVNode"])("span",b,[u,Object(o["createVNode"])(S,{class:"permission-tag",size:"small"},{default:r((function(){return[O]})),_:1}),j],512),[[A,["editor"]]]),Object(o["withDirectives"])(Object(o["createVNode"])(S,{class:"permission-sourceCode",type:"info"},{default:r((function(){return[p]})),_:1},512),[[A,["editor"]]])]),Object(o["createVNode"])("div",null,[Object(o["withDirectives"])(Object(o["createVNode"])("span",m,[f,Object(o["createVNode"])(S,{class:"permission-tag",size:"small"},{default:r((function(){return[V]})),_:1}),N,Object(o["createVNode"])(S,{class:"permission-tag",size:"small"},{default:r((function(){return[v]})),_:1}),h],512),[[A,["admin","editor"]]]),Object(o["withDirectives"])(Object(o["createVNode"])(S,{class:"permission-sourceCode",type:"info"},{default:r((function(){return[k]})),_:1},512),[[A,["admin","editor"]]])])])),(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:"checkPermission"+e.key,style:{"margin-top":"60px"}},[Object(o["createVNode"])("aside",null,Object(o["toDisplayString"])(e.t("permission.tips")),1),Object(o["createVNode"])(I,{type:"border-card",style:{width:"550px"}},{default:r((function(){return[e.checkPermission(["admin"])?(Object(o["openBlock"])(),Object(o["createBlock"])(P,{key:0,label:"Admin"},{default:r((function(){return[y,Object(o["createVNode"])(S,{class:"permission-sourceCode",type:"info"},{default:r((function(){return[x]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),e.checkPermission(["editor"])?(Object(o["openBlock"])(),Object(o["createBlock"])(P,{key:1,label:"Editor"},{default:r((function(){return[C,Object(o["createVNode"])(S,{class:"permission-sourceCode",type:"info"},{default:r((function(){return[T]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),e.checkPermission(["admin","editor"])?(Object(o["openBlock"])(),Object(o["createBlock"])(P,{key:2,label:"Admin-OR-Editor"},{default:r((function(){return[w,Object(o["createVNode"])(S,{class:"permission-sourceCode",type:"info"},{default:r((function(){return[_]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]))])})),B=c("5530"),D=(c("caad"),c("2532"),c("0613")),R=function(e){if(e&&e instanceof Array&&e.length>0){var t=Object(D["b"])().state.user.roles,c=e,o=t.some((function(e){return c.includes(e)}));return o}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1},S=c("d899"),P=c("0aa9"),I=Object(o["defineComponent"])({name:"DirectivePermission",components:{SwitchRoles:P["a"]},setup:function(){var e=Object(S["useI18n"])(),t=e.t,c=Object(o["reactive"])({key:1,checkPermission:R,handleRolesChange:function(){c.key++}});return Object(B["a"])({t:t},Object(o["toRefs"])(c))}});c("38a5");I.render=g,I.__scopeId="data-v-557b36ad";t["default"]=I}}]);