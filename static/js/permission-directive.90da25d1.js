(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["permission-directive"],{"0aa9":function(e,t,c){"use strict";var o=c("7a23"),r={style:{"margin-bottom":"15px"}};function n(e,t,c,n,i,a){var s=Object(o["resolveComponent"])("el-radio-button"),d=Object(o["resolveComponent"])("el-radio-group");return Object(o["openBlock"])(),Object(o["createBlock"])("div",null,[Object(o["createVNode"])("div",r,Object(o["toDisplayString"])(e.t("permission.roles"))+"： "+Object(o["toDisplayString"])(e.roles),1),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.t("permission.switchRoles"))+"： ",1),Object(o["createVNode"])(d,{modelValue:e.currentRole,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.currentRole=t})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{label:"editor"}),Object(o["createVNode"])(s,{label:"admin"})]})),_:1},8,["modelValue"])])}var i=c("0613"),a=c("d167"),s=c("d899"),d=Object(o["defineComponent"])({setup:function(){var e=Object(s["useI18n"])(),t=e.t,c=Object(i["b"])(),r=Object(o["computed"])((function(){return c.state.user.roles})),n=Object(o["ref"])(r.value[0]);return Object(o["watch"])(n,(function(e){c.dispatch(a["a"].ACTION_CHANGE_ROLES,e)})),{t:t,roles:r,currentRole:n}}});d.render=n;t["a"]=d},"60de":function(e,t,c){"use strict";c("e085")},a99f:function(e,t,c){"use strict";c.r(t);var o=c("7a23"),r=Object(o["withScopeId"])("data-v-cc1e0c8e");Object(o["pushScopeId"])("data-v-cc1e0c8e");var n={class:"app-container"},i={class:"permission-alert"},a=Object(o["createTextVNode"])(" Only "),s=Object(o["createTextVNode"])("admin"),d=Object(o["createTextVNode"])(" can see this "),l=Object(o["createTextVNode"])(" v-permission=\"['admin']\" "),b={class:"permission-alert"},u=Object(o["createTextVNode"])(" Only "),O=Object(o["createTextVNode"])("editor"),j=Object(o["createTextVNode"])(" can see this "),p=Object(o["createTextVNode"])(" v-permission=\"['editor']\" "),m={class:"permission-alert"},f=Object(o["createTextVNode"])(" Both "),V=Object(o["createTextVNode"])("admin"),N=Object(o["createTextVNode"])(" and "),v=Object(o["createTextVNode"])("editor"),h=Object(o["createTextVNode"])(" can see this "),k=Object(o["createTextVNode"])(" v-permission=\"['admin','editor']\" "),x=Object(o["createVNode"])("br",null,null,-1),y=Object(o["createTextVNode"])(" e.g. "),C=Object(o["createTextVNode"])(" Admin can see this "),T=Object(o["createTextVNode"])(" v-if=\"checkPermission(['admin'])\" "),g=Object(o["createTextVNode"])(" Editor can see this "),w=Object(o["createTextVNode"])(" v-if=\"checkPermission(['editor'])\" "),_=Object(o["createTextVNode"])(" Both admin or editor can see this "),B=Object(o["createTextVNode"])(" v-if=\"checkPermission(['admin','editor'])\" ");Object(o["popScopeId"])();var D=r((function(e,t,c,D,R,S){var P=Object(o["resolveComponent"])("SwitchRoles"),I=Object(o["resolveComponent"])("el-tag"),A=Object(o["resolveComponent"])("el-tab-pane"),E=Object(o["resolveComponent"])("el-tabs"),z=Object(o["resolveDirective"])("permission");return Object(o["openBlock"])(),Object(o["createBlock"])("div",n,[Object(o["createVNode"])(P,{onChange:e.handleRolesChange},null,8,["onChange"]),(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:e.key,style:{"margin-top":"30px"}},[Object(o["createVNode"])("div",null,[Object(o["withDirectives"])(Object(o["createVNode"])("span",i,[a,Object(o["createVNode"])(I,{class:"permission-tag",size:"small"},{default:r((function(){return[s]})),_:1}),d],512),[[z,["admin"]]]),Object(o["withDirectives"])(Object(o["createVNode"])(I,{class:"permission-sourceCode",type:"info"},{default:r((function(){return[l]})),_:1},512),[[z,["admin"]]])]),Object(o["createVNode"])("div",null,[Object(o["withDirectives"])(Object(o["createVNode"])("span",b,[u,Object(o["createVNode"])(I,{class:"permission-tag",size:"small"},{default:r((function(){return[O]})),_:1}),j],512),[[z,["editor"]]]),Object(o["withDirectives"])(Object(o["createVNode"])(I,{class:"permission-sourceCode",type:"info"},{default:r((function(){return[p]})),_:1},512),[[z,["editor"]]])]),Object(o["createVNode"])("div",null,[Object(o["withDirectives"])(Object(o["createVNode"])("span",m,[f,Object(o["createVNode"])(I,{class:"permission-tag",size:"small"},{default:r((function(){return[V]})),_:1}),N,Object(o["createVNode"])(I,{class:"permission-tag",size:"small"},{default:r((function(){return[v]})),_:1}),h],512),[[z,["admin","editor"]]]),Object(o["withDirectives"])(Object(o["createVNode"])(I,{class:"permission-sourceCode",type:"info"},{default:r((function(){return[k]})),_:1},512),[[z,["admin","editor"]]])])])),(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:"checkPermission"+e.key,style:{"margin-top":"60px"}},[Object(o["createVNode"])("aside",null,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.t("permission.tips"))+" ",1),x,y]),Object(o["createVNode"])(E,{type:"border-card",style:{width:"550px"}},{default:r((function(){return[e.checkPermission(["admin"])?(Object(o["openBlock"])(),Object(o["createBlock"])(A,{key:0,label:"Admin"},{default:r((function(){return[C,Object(o["createVNode"])(I,{class:"permission-sourceCode",type:"info"},{default:r((function(){return[T]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),e.checkPermission(["editor"])?(Object(o["openBlock"])(),Object(o["createBlock"])(A,{key:1,label:"Editor"},{default:r((function(){return[g,Object(o["createVNode"])(I,{class:"permission-sourceCode",type:"info"},{default:r((function(){return[w]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),e.checkPermission(["admin","editor"])?(Object(o["openBlock"])(),Object(o["createBlock"])(A,{key:2,label:"Admin-OR-Editor"},{default:r((function(){return[_,Object(o["createVNode"])(I,{class:"permission-sourceCode",type:"info"},{default:r((function(){return[B]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]))])})),R=c("5530"),S=(c("caad"),c("2532"),c("0613")),P=function(e){if(e&&e instanceof Array&&e.length>0){var t=Object(S["b"])().state.user.roles,c=e,o=t.some((function(e){return c.includes(e)}));return o}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1},I=c("d899"),A=c("0aa9"),E=Object(o["defineComponent"])({name:"DirectivePermission",components:{SwitchRoles:A["a"]},setup:function(){var e=Object(I["useI18n"])(),t=e.t,c=Object(o["reactive"])({key:1,checkPermission:P,handleRolesChange:function(){c.key++}});return Object(R["a"])({t:t},Object(o["toRefs"])(c))}});c("60de");E.render=D,E.__scopeId="data-v-cc1e0c8e";t["default"]=E},e085:function(e,t,c){}}]);