"use strict";(self["webpackChunkv3_admin"]=self["webpackChunkv3_admin"]||[]).push([[535],{9760:function(e,a,o){o.r(a),o.d(a,{default:function(){return U}});var l=o(6252),s=o(2262),n=o(9963),r=o(3315),t=o(5879),u=o(2119);const d=e=>((0,l.dD)("data-v-a6313540"),e=e(),(0,l.Cn)(),e),c={class:"login-container"},m={class:"login-card"},p=d((()=>(0,l._)("div",{class:"title"},[(0,l._)("img",{src:r})],-1))),i={class:"content"},v={class:"svg-container"},f={class:"svg-container"},g={class:"svg-container"},w={class:"show-code"},_=["src"],h=(0,l.Uk)(" 登录 ");var k=(0,l.aZ)({setup(e){const a=(0,u.tv)(),o=(0,s.iH)(),r=(0,s.iH)(),d=(0,s.iH)(""),k=(0,s.qj)({username:"admin",password:"123456",code:"1234",checkCode:""}),y=(0,s.qj)({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:18,message:"长度在 6 到 18 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}),b=(0,s.iH)(!1),U=(0,s.iH)("password"),W=()=>{"password"===U.value?U.value="":U.value="password"},C=()=>{o.value.validate((async e=>{if(!e)return!1;b.value=!0,t.h.dispatch("user/login",{username:k.username,password:k.password}).then((()=>{b.value=!1,a.push({path:"/"}).catch((e=>{console.warn(e)}))})).catch((()=>{b.value=!1,V()}))}))},V=()=>{let e="";k.code="";const a=12,o=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];for(let l=0;l<a;l++){const a=Math.floor(36*Math.random());e+=o[a]}k.checkCode=e,d.value=`/api/v1/login/authcode?token=${e}`};return(e,a)=>{const t=(0,l.up)("svg-icon"),u=(0,l.up)("el-input"),S=(0,l.up)("el-form-item"),x=(0,l.up)("el-button"),D=(0,l.up)("el-form");return(0,l.wg)(),(0,l.iD)("div",c,[(0,l._)("div",m,[p,(0,l._)("div",i,[(0,l.Wm)(D,{ref_key:"loginFormDom",ref:o,model:(0,s.SU)(k),rules:(0,s.SU)(y),"auto-complete":"on","label-position":"left",onKeyup:(0,n.D2)(C,["enter"])},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{prop:"username"},{default:(0,l.w5)((()=>[(0,l._)("span",v,[(0,l.Wm)(t,{name:"user"})]),(0,l.Wm)(u,{ref:"userNameDom",modelValue:(0,s.SU)(k).username,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,s.SU)(k).username=e),placeholder:"用户名",name:"username",type:"text",tabindex:"1","auto-complete":"off"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(S,{prop:"password"},{default:(0,l.w5)((()=>[(0,l._)("span",f,[(0,l.Wm)(t,{name:"password"})]),((0,l.wg)(),(0,l.j4)(u,{key:U.value,ref_key:"passwordDom",ref:r,modelValue:(0,s.SU)(k).password,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,s.SU)(k).password=e),type:U.value,placeholder:"密码",name:"password",tabindex:"2","auto-complete":"off"},null,8,["modelValue","type"])),(0,l._)("span",{class:"show-pwd",onClick:W},[(0,l.Wm)(t,{name:"password"===U.value?"eye":"eye-open"},null,8,["name"])])])),_:1}),(0,l.Wm)(S,{prop:"code"},{default:(0,l.w5)((()=>[(0,l._)("span",g,[(0,l.Wm)(t,{name:"table"})]),(0,l.Wm)(u,{ref:"codeDom",modelValue:(0,s.SU)(k).code,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,s.SU)(k).code=e),placeholder:"验证码",name:"code",type:"text",tabindex:"3","auto-complete":"off"},null,8,["modelValue"]),(0,l._)("span",w,[(0,l._)("img",{src:d.value,alt:"验证码",onClick:V},null,8,_)])])),_:1}),(0,l.Wm)(x,{loading:b.value,type:"primary",onClick:(0,n.iM)(C,["prevent"])},{default:(0,l.w5)((()=>[h])),_:1},8,["loading","onClick"])])),_:1},8,["model","rules","onKeyup"])])])])}}}),y=o(3744);const b=(0,y.Z)(k,[["__scopeId","data-v-a6313540"]]);var U=b},3315:function(e,a,o){e.exports=o.p+"static/img/logo-text.f3baf554.png"}}]);