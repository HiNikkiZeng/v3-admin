"use strict";(self["webpackChunkv3_admin"]=self["webpackChunkv3_admin"]||[]).push([[535],{9760:function(e,n,a){a.r(n),a.d(n,{default:function(){return W}});var r=a(8534),o=(a(5666),a(6252)),t=a(2262),u=a(9963),l=a(3315),s=a(5879),c=a(2119),i=function(e){return(0,o.dD)("data-v-a6313540"),e=e(),(0,o.Cn)(),e},d={class:"login-container"},p={class:"login-card"},m=i((function(){return(0,o._)("div",{class:"title"},[(0,o._)("img",{src:l})],-1)})),f={class:"content"},v={class:"svg-container"},g={class:"svg-container"},w={class:"svg-container"},h={class:"show-code"},_=["src"],k=(0,o.Uk)(" 登录 "),b=(0,o.aZ)({setup:function(e){var n=(0,c.tv)(),a=(0,t.iH)(),l=(0,t.iH)(),i=(0,t.iH)(""),b=(0,t.qj)({username:"admin",password:"123456",code:"1234",checkCode:""}),y=(0,t.qj)({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:18,message:"长度在 6 到 18 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}),U=(0,t.iH)(!1),W=(0,t.iH)("password"),x=function(){"password"===W.value?W.value="":W.value="password"},C=function(){a.value.validate(function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}U.value=!0,s.h.dispatch("user/login",{username:b.username,password:b.password}).then((function(){U.value=!1,n.push({path:"/"}).catch((function(e){console.warn(e)}))})).catch((function(){U.value=!1,V()})),e.next=6;break;case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())},V=function(){var e="";b.code="";for(var n=12,a=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r=0;r<n;r++){var o=Math.floor(36*Math.random());e+=a[o]}b.checkCode=e,i.value="/api/v1/login/authcode?token=".concat(e)};return function(e,n){var r=(0,o.up)("svg-icon"),s=(0,o.up)("el-input"),c=(0,o.up)("el-form-item"),S=(0,o.up)("el-button"),D=(0,o.up)("el-form");return(0,o.wg)(),(0,o.iD)("div",d,[(0,o._)("div",p,[m,(0,o._)("div",f,[(0,o.Wm)(D,{ref_key:"loginFormDom",ref:a,model:(0,t.SU)(b),rules:(0,t.SU)(y),"auto-complete":"on","label-position":"left",onKeyup:(0,u.D2)(C,["enter"])},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{prop:"username"},{default:(0,o.w5)((function(){return[(0,o._)("span",v,[(0,o.Wm)(r,{name:"user"})]),(0,o.Wm)(s,{ref:"userNameDom",modelValue:(0,t.SU)(b).username,"onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,t.SU)(b).username=e}),placeholder:"用户名",name:"username",type:"text",tabindex:"1","auto-complete":"off"},null,8,["modelValue"])]})),_:1}),(0,o.Wm)(c,{prop:"password"},{default:(0,o.w5)((function(){return[(0,o._)("span",g,[(0,o.Wm)(r,{name:"password"})]),((0,o.wg)(),(0,o.j4)(s,{key:W.value,ref_key:"passwordDom",ref:l,modelValue:(0,t.SU)(b).password,"onUpdate:modelValue":n[1]||(n[1]=function(e){return(0,t.SU)(b).password=e}),type:W.value,placeholder:"密码",name:"password",tabindex:"2","auto-complete":"off"},null,8,["modelValue","type"])),(0,o._)("span",{class:"show-pwd",onClick:x},[(0,o.Wm)(r,{name:"password"===W.value?"eye":"eye-open"},null,8,["name"])])]})),_:1}),(0,o.Wm)(c,{prop:"code"},{default:(0,o.w5)((function(){return[(0,o._)("span",w,[(0,o.Wm)(r,{name:"table"})]),(0,o.Wm)(s,{ref:"codeDom",modelValue:(0,t.SU)(b).code,"onUpdate:modelValue":n[2]||(n[2]=function(e){return(0,t.SU)(b).code=e}),placeholder:"验证码",name:"code",type:"text",tabindex:"3","auto-complete":"off"},null,8,["modelValue"]),(0,o._)("span",h,[(0,o._)("img",{src:i.value,alt:"验证码",onClick:V},null,8,_)])]})),_:1}),(0,o.Wm)(S,{loading:U.value,type:"primary",onClick:(0,u.iM)(C,["prevent"])},{default:(0,o.w5)((function(){return[k]})),_:1},8,["loading","onClick"])]})),_:1},8,["model","rules","onKeyup"])])])])}}}),y=a(3744);const U=(0,y.Z)(b,[["__scopeId","data-v-a6313540"]]);var W=U},3315:function(e,n,a){e.exports=a.p+"static/img/logo-text.f3baf554.png"}}]);